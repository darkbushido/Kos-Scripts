function adjust_ap {
  local r1 to SHIP:OBT:SEMIMAJORAXIS. local r2 TO p["O"]["AP"] + SHIP:OBT:BODY:RADIUS.
  local d_time to time:seconds + eta:periapsis.
  hohmann["transfer"](r1,r2,d_time). local nn to nextnode. local data is list(nn:prograde).
  for step in list(1,0.1) {set data to hc["seek"](data, orbitfit["transfer_fit"](d_time, p["O"]["AP"]), step).}
  node_exec["exec"](true).
  next().
}

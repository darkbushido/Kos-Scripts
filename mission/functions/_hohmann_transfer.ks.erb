function hohmann_transfer {
  local r1 to SHIP:OBT:SEMIMAJORAXIS.
  local r2 TO p["DAlt"] + SHIP:OBT:BODY:RADIUS.
  local d_time to eta:apoapsis.
  if defined(params) and params:haskey("Vessel")
    set d_time to hohmann["time"](r1,r2, params["Vessel"],params["Offset"]).
  hohmann["transfer"](r1,r2,d_time).
  local nn to nextnode.
  local t to time:seconds + nn:eta.
  local data is list(nn:prograde).
  print "Hillclimbing".
  set data to hc["seek"](data, fit["apo_fit"](t, p["DAlt"]), 0.1).
  set data to hc["seek"](data, fit["apo_fit"](t, p["DAlt"]), 0.01).
  node_exec["exec"](true).
  next().
}
